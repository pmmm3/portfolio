---
import { PROJECTS } from "../utils/proyectos.ts";
import SocialPill from "./SocialPill.astro";
import GitHubIcon from "./icons/GitHub.astro";
import { YouTube } from "@astro-community/astro-embed-youtube";
---

<section class="flex flex-wrap gap-8 justify-center">
    {
        PROJECTS.map((project, index) => {
            return (
                <>
                    <div class="group h-72 w-72 [perspective:1000px]">
                        <div class="relative h-72  w-full rounded-xl shadow-xl transition-all duration-500 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] ">
                            <div class="absolute inset-0">
                                {project.video && !project.image ? (
                                    <YouTube
                                        class="h-full w-full rounded-xl object-cover shadow-xl shadow-black/40"
                                        id={project.video}
                                    />
                                ) : (
                                    project.image && (
                                        <img
                                            class="h-full w-full rounded-xl object-cover shadow-xl shadow-black/40"
                                            src={project.image}
                                            alt={project.alt}
                                        />
                                    )
                                )}
                            </div>
                            <div class="absolute inset-0 h-full w-full rounded-xl bg-black/80 px-12 text-center text-slate-200 [transform:rotateY(180deg)] [backface-visibility:hidden]">
                                <div class="flex min-h-full flex-col items-center justify-center">
                                    <h1 class="text-xl font-bold">
                                        {project.title}
                                    </h1>
                                    <p class="text-pretty  text-sm text-ellipsis overflow-hidden max-h-48 mb-2">
                                        {project.description}
                                    </p>
                                    {project.github && (
                                        <SocialPill
                                            href={project.github}
                                            class="mb-2"
                                        >
                                            <GitHubIcon class="w-4 h-4" />
                                        </SocialPill>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </>
            );
        })
    }
</section>
